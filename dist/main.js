(()=>{"use strict";var e,r,t,o,a,n={603:(e,r,t)=>{var o=t(185),a=t.n(o);!async function(){try{await a().connect("mongodb://localhost:27017/tu-pc-gamer"),console.log("Connected to MongoDb")}catch(e){console.log(e)}}()},87:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{L6:()=>c,al:()=>s,jE:()=>d,vT:()=>i});var a=t(971),n=e([a]);a=(n.then?(await n)():n)[0];const s=async(e,r)=>{try{const t=await a.F.deleteById(e.params.id);r.json({deletedItem:t})}catch(e){r.json({error:e})}},c=async(e,r)=>{try{const t=await a.F.getById(e.params.id);t||r.send({error:"carrito no encontrado"}),r.send(t.products)}catch(e){r.send(e)}},d=async(e,r)=>{try{const t=await a.F.addProduct(e.params.id,e.params.id_item);t?r.json(t):r.json({error:"no se pudo guardar el producto"})}catch(e){r.send(e)}},i=async(e,r)=>{try{const t=await a.F.removeProduct(e.params.id,e.params.id_item);t?r.json(t):r.json({error:"no se pudo guardar el producto"})}catch(e){r.send(e)}};o()}catch(e){o(e)}}))},320:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{Ir:()=>u,Xp:()=>s,gk:()=>c,ry:()=>d,zG:()=>i});var a=t(971),n=e([a]);a=(n.then?(await n)():n)[0];const s=async(e,r)=>{try{const e=await a.U.getAll();r.send(e)}catch(e){r.send(e)}},c=async(e,r)=>{try{const t=await a.U.getById(e.params.id);t||r.send({error:"producto no encontrado"}),r.send(t)}catch(e){r.send(e)}},d=async(e,r)=>{try{const t=await a.U.save(e.body);t?r.json(t):r.json({error:"no se pudo guardar el producto"})}catch(e){r.send(e)}},i=async(e,r)=>{try{const t=await a.U.edit(e.params.id,e.body);t?r.json(t):r.json({error:"no se pudo guardar el producto"})}catch(e){r.send(e)}},u=async(e,r)=>{try{const t=await a.U.deleteById(e.params.id);r.json({deletedItem:t})}catch(e){r.json({error:e})}};o()}catch(e){o(e)}}))},971:(e,r,t)=>{t.a(e,(async(e,o)=>{try{let e,a;t.d(r,{F:()=>a,U:()=>e});{const{default:r}=await t.e(385).then(t.bind(t,385));e=new r;const{default:o}=await t.e(534).then(t.bind(t,534));a=new o}o()}catch(e){o(e)}}),1)},519:(e,r,t)=>{t.a(e,(async(e,r)=>{try{var o=t(860),a=t.n(o),n=t(208),s=t(741),c=(t(603),e([n,s]));[n,s]=c.then?(await c)():c;const d=a()();console.log("pasa"),d.use(a().json(),a().urlencoded({extended:!0})),d.use("/api/products",n.Z),d.use("/api/cart",s.Z),d.use("*",((e,r)=>{r.status(404).send({error:-2,desc:"path not found"})})),console.log("pasa");const i=process.env.PORT||8080;d.listen(i,(()=>{console.log(`Servidor corriendo en el puerto ${i}`)})),r()}catch(e){r(e)}}))},208:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{Z:()=>u});var a=t(860),n=t.n(a),s=t(320),c=e([s]);s=(c.then?(await c)():c)[0];const d=n().Router(),i=async(e,r,t)=>{t()};d.get("/",s.Xp),d.get("/:id",s.gk),d.post("/",i,s.ry),d.put("/:id",i,s.zG),d.delete("/:id",i,s.Ir);const u=d;o()}catch(e){o(e)}}))},741:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{Z:()=>i});var a=t(860),n=t.n(a),s=t(87),c=e([s]);s=(c.then?(await c)():c)[0];const d=n().Router();d.post("/"),d.delete("/:id",s.al),d.get("/:id/products",s.L6),d.post("/:id/products/:id_item",s.jE),d.delete("/:id/products/:id_item",s.vT);const i=d;o()}catch(e){o(e)}}))},860:e=>{e.exports=require("express")},509:e=>{e.exports=require("firebase-admin")},594:e=>{e.exports=require("firebase-admin/firestore")},185:e=>{e.exports=require("mongoose")}},s={};function c(e){var r=s[e];if(void 0!==r)return r.exports;var t=s[e]={exports:{}};return n[e](t,t.exports,c),t.exports}c.m=n,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(a,n,s)=>{var c;s&&((c=[]).d=1);var d,i,u,p=new Set,y=a.exports,l=new Promise(((e,r)=>{u=r,i=e}));l[r]=y,l[e]=e=>(c&&e(c),p.forEach(e),l.catch((e=>{}))),a.exports=l,n((a=>{var n;d=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var n=[];n.d=0,a.then((e=>{s[r]=e,o(n)}),(e=>{s[t]=e,o(n)}));var s={};return s[e]=e=>e(n),s}}var c={};return c[e]=e=>{},c[r]=a,c})))(a);var s=()=>d.map((e=>{if(e[t])throw e[t];return e[r]})),i=new Promise((r=>{(n=()=>r(s)).r=0;var t=e=>e!==c&&!p.has(e)&&(p.add(e),e&&!e.d&&(n.r++,e.push(n)));d.map((r=>r[e](t)))}));return n.r?i:s()}),(e=>(e?u(l[t]=e):i(y),o(c)))),c&&(c.d=0)},c.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return c.d(r,{a:r}),r},c.d=(e,r)=>{for(var t in r)c.o(r,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((r,t)=>(c.f[t](e,r),r)),[])),c.u=e=>e+".main.js",c.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a={179:1},c.f.require=(e,r)=>{a[e]||(e=>{var r=e.modules,t=e.ids,o=e.runtime;for(var n in r)c.o(r,n)&&(c.m[n]=r[n]);o&&o(c);for(var s=0;s<t.length;s++)a[t[s]]=1})(require("./"+c.u(e)))},c(519)})();